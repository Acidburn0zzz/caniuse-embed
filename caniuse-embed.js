function initialResizeIframe(e){setTimeout(function(){var i=e.contentWindow.document.body.childNodes[1].scrollHeight;e.height=i+"px"},1e3)}function calcIframeHeight(e,i){var t=e.parentNode.offsetWidth,r=40,a=310;return 350>t?a=460:400>t?a=450:500>t?a=420:600>t?a=400:650>t?a=390:710>t&&(a=370),a+=r*i,a+"px"}for(var caniuse_embeds=document.getElementsByClassName("ciu_embed"),i=0;i<caniuse_embeds.length;i++){var embed=caniuse_embeds[i],feature=embed.getAttribute("data-feature"),periods=embed.getAttribute("data-periods"),periodsArray=periods.split(","),iframeHeight=calcIframeHeight(embed,periodsArray.length);if(feature){var url="http://caniuse.bitsofco.de/embed/index.html",iframe='<iframe src="'+url+"?feat="+feature+"&periods="+periods+'" frameborder="0" width="100%" scrolling="no" height="'+iframeHeight+'" onload="initialResizeIframe(this)"></iframe>';embed.innerHTML=iframe}else embed.innerHTML="A feature was not included. Go to <a href='http://caniuse.bitsofco.de/#how-to-use'>http://caniuse.bitsofco.de/#how-to-use</a> to generate an embed."}window.onresize=function(e){for(var i=0;i<caniuse_embeds.length;i++){var t=caniuse_embeds[i],r=t.childNodes[0],a=r.contentWindow.document.body.childNodes[1].scrollHeight;r.height=a+"px"}};