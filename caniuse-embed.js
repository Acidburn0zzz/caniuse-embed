function calcIframeHeight(e,t){var a=e.parentNode.offsetWidth,i=40,r=310;return 350>a?r=460:400>a?r=450:500>a?r=420:600>a?r=400:650>a?r=390:710>a&&(r=370),r+=i*t,r+"px"}var caniuse_embeds=document.getElementsByClassName("ciu_embed"),eventMethod=window.addEventListener?"addEventListener":"attachEvent",eventer=window[eventMethod],messageEvent="attachEvent"==eventMethod?"onmessage":"message";eventer(messageEvent,function(e){var t=e.data;if("string"==typeof t&&t.indexOf("ciu_embed")>-1){console.log(t);for(var a=t.split(":")[1],i=t.split(":")[2],r=0;r<caniuse_embeds.length;r++)if(caniuse_embeds[r].getAttribute("data-feature")===a){var s=parseInt(i)+20;caniuse_embeds[r].childNodes[0].height=s+"px",console.log(i)}}},!1);for(var i=0;i<caniuse_embeds.length;i++){var embed=caniuse_embeds[i],feature=embed.getAttribute("data-feature"),periods=embed.getAttribute("data-periods"),periodsArray=periods.split(","),iframeHeight=calcIframeHeight(embed,periodsArray.length);if(feature){var url="http://caniuse.bitsofco.de/embed/index.html",url="http://localhost:8000/embed/index.html",iframe='<iframe src="'+url+"?feat="+feature+"&periods="+periods+'" frameborder="0" width="100%" height="'+iframeHeight+'" style="border-bottom: 5px solid black;"></iframe>';embed.innerHTML=iframe}else embed.innerHTML="A feature was not included. Go to <a href='http://caniuse.bitsofco.de/#how-to-use'>http://caniuse.bitsofco.de/#how-to-use</a> to generate an embed."}