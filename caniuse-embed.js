function resizeIframe(e){setTimeout(function(){var t=e.contentWindow.document.body.childNodes[1].scrollHeight;e.height=t+"px"},1e3)}function calcIframeHeight(e,t){var i=e.parentNode.offsetWidth,r=40,o=310;return 350>i?o=460:400>i?o=450:500>i?o=420:600>i?o=400:650>i?o=390:710>i&&(o=370),o+=r*t,o+"px"}for(var caniuse_embeds=document.getElementsByClassName("ciu_embed"),i=0;i<caniuse_embeds.length;i++){var embed=caniuse_embeds[i],feature=embed.getAttribute("data-feature"),periods=embed.getAttribute("data-periods"),periodsArray=periods.split(","),iframeHeight=calcIframeHeight(embed,periodsArray.length);if(feature){var url="http://caniuse.bitsofco.de/embed/index.html",iframe='<iframe src="'+url+"?feat="+feature+"&periods="+periods+'" frameborder="0" width="100%" scrolling="no" height="'+iframeHeight+'" onload="resizeIframe(this)"></iframe>';embed.innerHTML=iframe}else embed.innerHTML="A feature was not included. Go to <a href='http://caniuse.bitsofco.de/#how-to-use'>http://caniuse.bitsofco.de/#how-to-use</a> to generate an embed."}window.onresize=function(e){for(var t=0;t<caniuse_embeds.length;t++){var i=caniuse_embeds[t],r=i.childNodes[0],o=r.contentWindow.document.body.childNodes[1].scrollHeight;r.height=o+"px"}};