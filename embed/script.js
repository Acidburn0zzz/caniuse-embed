$(document).ready(function(){function e(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}function t(e){return e&&e.indexOf("-")>-1&&(e=e.split("-")[1]),e}var a="https://raw.githubusercontent.com/Fyrd/caniuse/master/data.json",a="https://raw.githubusercontent.com/Fyrd/caniuse/master/fulldata-json/data-2.0.json",s=location.href.split("?feat=")[1],n=["ie","edge","firefox","chrome","safari","opera","ios_saf","op_mini","android","and_chr"],r=["future_1","current","past_1","past_2"];$(".default-message").html('<a href="http://caniuse.com/#feat='+s+'">Can I Use '+s+"?</a> Data on support for the "+s+" feature across the major browsers from caniuse.com. (Embed Loading)"),$.getJSON(a,function(a){var o=a.data[s];if(o){var i=o.usage_perc_y,u=o.usage_perc_a,l=i+u,l=e(l,2),g=o.description;g.length>190&&(g=g.slice(0,180)+"...."),$(".feature-title span").html(o.title),$(".feature-description").html(g),$(".feature-link").attr("href","http://caniuse.com/#feat="+s),$(".note").html('Global: <span class="y">'+i+'%</span> + <span class="a">'+u+"%</span> = "+l+"%");for(var f={},d=0;d<n.length;d++){for(var p,h=n[d],c=a.agents[h].current_version,_=0;_<a.agents[h].version_list.length;_++)0===a.agents[h].version_list[_].era&&(p=_);p=parseInt(p),f[h]={future_1:a.agents[h].version_list[p+1]?a.agents[h].version_list[p+1].version:null,current:c,past_1:a.agents[h].version_list[p-1]?a.agents[h].version_list[p-1].version:null,past_2:a.agents[h].version_list[p-2]?a.agents[h].version_list[p-2].version:null}}for(var v={},d=0;d<n.length;d++){var h=n[d],m=f[h].future_1,x=a.agents[h].usage_global[m],x=x?x.toFixed(2):0,b=f[h].current,w=a.agents[h].usage_global[b],w=w?w.toFixed(2):0,F=f[h].past_1,y=a.agents[h].usage_global[F],y=y?y.toFixed(2):0,O=f[h].past_2,j=a.agents[h].usage_global[O],j=j?j.toFixed(2):0;v[h]={future_1:x,current:w,past_1:y,past_2:j}}for(var C={},d=0;d<n.length;d++){var h=n[d];C[h]={future_1:o.stats[h][f[h].future_1],current:o.stats[h][f[h].current],past_1:o.stats[h][f[h].past_1],past_2:o.stats[h][f[h].past_2]}}for(var I=!1,N=!1,d=0;d<n.length;d++)for(var h=n[d],_=0;_<r.length;_++){var U=r[_],k=$("tr."+U+" td."+h);void 0!=C[h][U]?k.addClass(C[h][U]):!1;var z=t(f[h][U]),D="<span>"+z+"</span>";D="<span>"+z+'</span><span class="usage">'+v[h][U]+"%</span>",void 0!=f[h][U]?k.html(D):k.html("<span></span>"),void 0!=C[h][U]&&C[h][U].indexOf("x")>-1&&(I=!0),void 0!=C[h][U]&&C[h][U].indexOf("u")>-1&&(N=!0)}I?$(".legend .x").show():$(".legend .x").hide(),N?$(".legend .u").show():$(".legend .u").hide()}else $(".feature-title").html("Uh Oh!"),$(".feature-description").html("The feature <strong>'"+s+"'</strong> was not recognized. "),$(".feature-main").html("");$(".default-message").hide(),$(".feature").show()})});