$(document).ready(function(){function t(t,a){return Number(Math.round(t+"e"+a)+"e-"+a)}function a(t){return t&&t.indexOf("-")>-1&&(t=t.split("-")[1]),t}var e="https://raw.githubusercontent.com/Fyrd/caniuse/master/data.json",s=location.href.split("?feat=")[1],r=43,n=["ie","edge","firefox","chrome","safari","opera","ios_saf","op_mini","android","and_chr"],o=["current","past_1","past_2","past_3"];$.getJSON(e,function(e){var i=e.data[s];if(i){var p=i.usage_perc_y,u=i.usage_perc_a,l=p+u,l=t(l,2),c=i.description;c.length>190&&(c=c.slice(0,180)+"...."),$(".feature-title span").html(i.title),$(".feature-description").html(c),$(".feature-link").attr("href","http://caniuse.com/#feat="+s),$(".note").html('Global: <span class="y">'+p+'%</span> + <span class="a">'+u+"%</span> = "+l+"%");for(var f={},h=0;h<n.length;h++){var g=n[h];f[g]={current:e.agents[g].versions[r],past_1:e.agents[g].versions[r-1],past_2:e.agents[g].versions[r-2],past_3:e.agents[g].versions[r-3]}}for(var d={},h=0;h<n.length;h++){var g=n[h],_=f[g].current,v=parseInt(e.agents[g].usage_global[_]),m=Math.round(v);d[g]=m}for(var b={},h=0;h<n.length;h++){var g=n[h];b[g]={current:i.stats[g][f[g].current],past_1:i.stats[g][f[g].past_1],past_2:i.stats[g][f[g].past_2],past_3:i.stats[g][f[g].past_3]}}for(var h=0;h<n.length;h++)for(var g=n[h],y=0;y<o.length;y++){var w=o[y],O=$("tr."+w+" td."+g);void 0!=b[g][w]?O.addClass(b[g][w]):!1;var x=a(f[g][w]),M="<span>"+x+"</span>";"current"===w&&(M="<span>"+x+'</span><span class="usage">'+d[g]+"%</span>"),void 0!=f[g][w]?O.html(M):O.html("<span></span>")}}else $(".feature-title").html("Uh Oh!"),$(".feature-description").html("The feature <strong>'"+s+"'</strong> was not recognized. "),$(".feature-main").html("");$(".feature").show()})});