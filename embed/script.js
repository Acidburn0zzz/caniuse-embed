$(document).ready(function(){function e(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}function t(e){return e&&e.indexOf("-")>-1&&(e=e.split("-")[1]),e}var a="https://raw.githubusercontent.com/Fyrd/caniuse/master/data.json",a="https://raw.githubusercontent.com/Fyrd/caniuse/master/fulldata-json/data-2.0.json",s=location.href.split("?feat=")[1],n=["ie","edge","firefox","chrome","safari","opera","ios_saf","op_mini","android","and_chr"],r=["future_1","current","past_1","past_2"];$(".default-message").html('<a href="http://caniuse.com/#feat='+s+'">Can I Use '+s+"?</a> Data on support for the "+s+" feature across the major browsers from caniuse.com. (Embed Loading)"),$.getJSON(a,function(a){var o=a.data[s];if(o){var i=o.usage_perc_y,u=o.usage_perc_a,l=i+u,l=e(l,2),f=o.description;f.length>190&&(f=f.slice(0,180)+"...."),$(".feature-title span").html(o.title),$(".feature-description").html(f),$(".feature-link").attr("href","http://caniuse.com/#feat="+s),$(".note").html('Global: <span class="y">'+i+'%</span> + <span class="a">'+u+"%</span> = "+l+"%");for(var h={},d=0;d<n.length;d++){for(var c,p=n[d],g=a.agents[p].current_version,v=0;v<a.agents[p].version_list.length;v++)0===a.agents[p].version_list[v].era&&(c=v);c=parseInt(c),h[p]={future_1:a.agents[p].version_list[c+1]?a.agents[p].version_list[c+1].version:null,current:g,past_1:a.agents[p].version_list[c-1]?a.agents[p].version_list[c-1].version:null,past_2:a.agents[p].version_list[c-2]?a.agents[p].version_list[c-2].version:null}}for(var _={},d=0;d<n.length;d++){var p=n[d],m=h[p].current,b=parseInt(a.agents[p].usage_global[m]),w=Math.round(b);_[p]=w}for(var x={},d=0;d<n.length;d++){var p=n[d];x[p]={future_1:o.stats[p][h[p].future_1],current:o.stats[p][h[p].current],past_1:o.stats[p][h[p].past_1],past_2:o.stats[p][h[p].past_2]}}for(var y=!1,O=!1,d=0;d<n.length;d++)for(var p=n[d],v=0;v<r.length;v++){var j=r[v],I=$("tr."+j+" td."+p);void 0!=x[p][j]?I.addClass(x[p][j]):!1;var C=t(h[p][j]),F="<span>"+C+"</span>";"current"===j&&(F="<span>"+C+'</span><span class="usage">'+_[p]+"%</span>"),void 0!=h[p][j]?I.html(F):I.html("<span></span>"),void 0!=x[p][j]&&x[p][j].indexOf("x")>-1&&(y=!0),void 0!=x[p][j]&&x[p][j].indexOf("u")>-1&&(O=!0)}y?$(".legend .x").show():$(".legend .x").hide(),O?$(".legend .u").show():$(".legend .u").hide()}else $(".feature-title").html("Uh Oh!"),$(".feature-description").html("The feature <strong>'"+s+"'</strong> was not recognized. "),$(".feature-main").html("");$(".default-message").hide(),$(".feature").show()})});