$(document).ready(function(){function t(t,e){return Number(Math.round(t+"e"+e)+"e-"+e)}function e(t){return t&&t.indexOf("-")>-1&&(t=t.split("-")[1]),t}var a="https://raw.githubusercontent.com/Fyrd/caniuse/master/data.json",r=location.href.split("?feat=")[1],s=43,n=["ie","edge","firefox","chrome","safari","opera","ios_saf","op_mini","android","and_chr"],o=["future_1","current","past_1","past_2"];$.getJSON(a,function(a){var i=a.data[r];if(i){var u=i.usage_perc_y,l=i.usage_perc_a,p=u+l,p=t(p,2),f=i.description;f.length>190&&(f=f.slice(0,180)+"...."),$(".feature-title span").html(i.title),$(".feature-description").html(f),$(".feature-link").attr("href","http://caniuse.com/#feat="+r),$(".note").html('Global: <span class="y">'+u+'%</span> + <span class="a">'+l+"%</span> = "+p+"%");for(var c={},h=0;h<n.length;h++){var d=n[h];c[d]={future_1:a.agents[d].versions[s+1],current:a.agents[d].versions[s],past_1:a.agents[d].versions[s-1],past_2:a.agents[d].versions[s-2]}}for(var g={},h=0;h<n.length;h++){var d=n[h],v=c[d].current,_=parseInt(a.agents[d].usage_global[v]),m=Math.round(_);g[d]=m}for(var x={},h=0;h<n.length;h++){var d=n[h];x[d]={future_1:i.stats[d][c[d].future_1],current:i.stats[d][c[d].current],past_1:i.stats[d][c[d].past_1],past_2:i.stats[d][c[d].past_2]}}for(var b=!1,h=0;h<n.length;h++)for(var d=n[h],w=0;w<o.length;w++){var y=o[w],O=$("tr."+y+" td."+d);void 0!=x[d][y]?O.addClass(x[d][y]):!1;var M=e(c[d][y]),N="<span>"+M+"</span>";"current"===y&&(N="<span>"+M+'</span><span class="usage">'+g[d]+"%</span>"),void 0!=c[d][y]?O.html(N):O.html("<span></span>"),void 0!=x[d][y]&&x[d][y].indexOf("x")>-1&&(b=!0)}b?$(".legend .x").show():$(".legend .x").hide()}else $(".feature-title").html("Uh Oh!"),$(".feature-description").html("The feature <strong>'"+r+"'</strong> was not recognized. "),$(".feature-main").html("");$(".feature").show()})});