$(document).ready(function(){function t(t,a){return Number(Math.round(t+"e"+a)+"e-"+a)}function a(t){return t&&t.indexOf("-")>-1&&(t=t.split("-")[1]),t}var e="https://raw.githubusercontent.com/Fyrd/caniuse/master/data.json",r=location.href.split("?feat=")[1],s=43,n=["ie","edge","firefox","chrome","safari","opera","ios_saf","op_mini","android","and_chr"],o=["future_1","current","past_1","past_2"];$.getJSON(e,function(e){var u=e.data[r];if(u){var i=u.usage_perc_y,p=u.usage_perc_a,f=i+p,f=t(f,2),l=u.description;l.length>190&&(l=l.slice(0,180)+"...."),$(".feature-title span").html(u.title),$(".feature-description").html(l),$(".feature-link").attr("href","http://caniuse.com/#feat="+r),$(".note").html('Global: <span class="y">'+i+'%</span> + <span class="a">'+p+"%</span> = "+f+"%");for(var c={},h=0;h<n.length;h++){var g=n[h];c[g]={future_1:e.agents[g].versions[s+1],current:e.agents[g].versions[s],past_1:e.agents[g].versions[s-1],past_2:e.agents[g].versions[s-2]}}for(var d={},h=0;h<n.length;h++){var g=n[h],_=c[g].current,v=parseInt(e.agents[g].usage_global[_]),m=Math.round(v);d[g]=m}for(var b={},h=0;h<n.length;h++){var g=n[h];b[g]={future_1:u.stats[g][c[g].future_1],current:u.stats[g][c[g].current],past_1:u.stats[g][c[g].past_1],past_2:u.stats[g][c[g].past_2]}}for(var h=0;h<n.length;h++)for(var g=n[h],y=0;y<o.length;y++){var w=o[y],O=$("tr."+w+" td."+g);void 0!=b[g][w]?O.addClass(b[g][w]):!1;var x=a(c[g][w]),M="<span>"+x+"</span>";"current"===w&&(M="<span>"+x+'</span><span class="usage">'+d[g]+"%</span>"),void 0!=c[g][w]?O.html(M):O.html("<span></span>")}}else $(".feature-title").html("Uh Oh!"),$(".feature-description").html("The feature <strong>'"+r+"'</strong> was not recognized. "),$(".feature-main").html("");$(".feature").show()})});